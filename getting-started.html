<!doctype html>
<html class="no-js" lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Getting Started ∙ Knex Schema Reader</title>
  <meta name="description" content="Knex Schema Reader is a utility for exporting a database schema to an object and/or json file">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/knex-schema-reader/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700italic">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="/knex-schema-reader/main.css">
</head>
<body>
  <div class="header">
  <div class="container">
    <a class="header__logo" href="/knex-schema-reader/">
      Knex Schema Reader
    </a>
        <span class="header__author">
          made with &nbsp;♥&nbsp; by&nbsp; <a href="https://twitter.com/mattjcowan" rel="author" title="Matt Cowan on Twitter">@mattjcowan</a>
        </span>
    
  </div>
</div>


  <div class="content">
    <div class="content-left">
      <div class="nav">
  <h3 class="nav__title">Quick Start</h3>
  <ul class="nav__menu">
    <li class="nav__menu-item">
      <a class="nav__link" href="/knex-schema-reader/">Overview</a>
    </li>
    <li class="nav__menu-item nav__menu-item--selected">
      <a class="nav__link" href="/knex-schema-reader/getting-started">Getting Started</a>
    </li>
  </ul>
  <!--
  <h3 class="nav__title">Recipes</h3>
  <ul class="nav__menu">
    <li class="nav__menu-item">
      <a class="nav__link" href="/knex-schema-reader/recipes/testing-with-mocha-and-jsdom">Testing with <code>mocha</code> and <code>jsdom</code></a>
    </li>
    <li class="nav__menu-item">
      <a class="nav__link" href="/knex-schema-reader/recipes/throwing-errors-with-fbjs-invariant">Throwing errors with <code>invariant</code></a>
    </li>
  </ul>
  -->
</div>

    </div>
    <div class="content-right">
      <h1>Getting Started</h1>
<p>For better experience, make sure that you have <code>npm v3+</code> installed.
Start by installing the tool into your project.</p>
<p>Install from github at this time. Once it's ready, we'll publish it to npm.</p>
<pre><code class="language-sh">$ npm install git+https://git@github.com/mattjcowan/knex-schema-reader
</code></pre>
<h3>CLI</h3>
<p>The cli utilizes the <a href="http://knexjs.org/#knexfile">knexfile.js</a> to
establish a connection to the database. Simply use the --knexfile parameter
as indicated on the <a href="http://knexjs.org/#knexfile">knexjs.org</a> website.</p>
<p>The following is a sample knexfile.js file:</p>
<pre><code class="language-javascript">module.exports = {
  &quot;client&quot;: &quot;mssql&quot;,
  &quot;connection&quot;: &quot;mssql://aw-username:aw-password@localhost:1433/AdventureWorks2014&quot;,
  &quot;debug&quot;: true,
  &quot;acquireConnectionTimeout&quot;: 3000,
};
</code></pre>
<p>The following example exports the AdventureWorks database from sqlserver</p>
<pre><code class="language-sh">$ knexschemareader extract -o ./adventureworks.json
</code></pre>
<p>Refer to the <a href="http://knexjs.org">Knex.js</a> website for dialect and
connectionstring related information.</p>
<h3>API</h3>
<p>To extract a database using the api, import the module and call the
extract method.</p>
<p>The following example extracts the AdventureWorks schema from sql server
and outputs it to a file 'db.json'.</p>
<pre><code class="language-javascript">import fs from 'fs';
import Knex from 'knex';
import SchemaReader from 'knex-schema-reader';

const knex = Knex({
    client: 'mssql',
    connectionstring: 'mssql://aw-username:aw-password@localhost:1433/AdventureWorks2014'
});
SchemaReader(knex).extract()
  .then(function (db) {
    knex.destroy();
    fs.writeFileSync('db.json', JSON.stringify(db), 'utf-8');  
  })
  .catch(function (err) {
    knex.destroy();
    console.error(err.stack);
  });

</code></pre>

    </div>
  </div>
  <script
    src="https://code.jquery.com/jquery-2.2.4.min.js"
    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
    crossorigin="anonymous"></script>
  <script src="/knex-schema-reader/main.js"></script>
</body>
</html>
